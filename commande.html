<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="order_title">SecurityNoPhone ‚Äì Commande</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flag-icon-css@3.5.0/css/flag-icon.min.css">
  <link rel="stylesheet" href="style.css">

</head>

<body>

  <div id="navbar-container"></div>

  <main class="container my-5">
    <div class="border rounded-4 shadow-sm p-4 bg-white mt-5">
      <h1 class="text-center mb-5" data-i18n="order_title">Passer une commande</h1>
      <div class="row">
        <div class="col-md-6">
          <form action="https://formspree.io/f/xqaqogdv" method="POST" id="orderForm" data-order-form data-locale="fr-FR">
            <input type="text" name="_gotcha" style="display:none">
            <div class="visually-hidden">
              <span data-offer-base="location_sans" data-price="150" data-pricing-type="flat"></span>
              <span data-offer-base="location_avec" data-price="390" data-pricing-type="flat"></span>
              <span data-offer-base="achat" data-price="3.5" data-pricing-type="per-unit"></span>
              <span data-offer-base="abonnement" data-price="19" data-pricing-type="subscription" data-pack-size="50" data-max-quantity="50"></span>
            </div>
            <div class="mb-3">
              <label class="form-label" data-i18n="label_offer_type">Type d‚Äôoffre :</label>
              <select class="form-select" name="offre" id="offerType" required data-offer-select>
                <option value="" data-i18n="option_choose_offer">-- Choisir une offre --</option>
                <option value="location_sans" data-i18n="option_location_without">Location sans personnel</option>
                <option value="location_avec" data-i18n="option_location_with">Location avec personnel</option>
                <option value="achat" data-i18n="option_custom_pouches">Pochettes personnalis√©es</option>
                <option value="abonnement" data-i18n="option_subscription">Abonnement Starter</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="quantity" class="form-label" data-i18n="label_quantity">Quantit√© de pochettes :</label>
              <input type="number" class="form-control" name="quantite" id="quantity" max="250" min="0" value="50"
                required data-quantity-input />
              <div id="quantityError" class="text-danger mt-1" style="display: none;" data-quantity-error
                data-min-rental="La quantit√© minimale pour la location est de 1 pochette."
                data-max-rental="La quantit√© maximale autoris√©e pour la location est de 250 pochettes."
                data-min-custom="Pour les pochettes personnalis√©es, le minimum est de 50 unit√©s."
                data-min-subscription="La quantit√© ne peut pas √™tre n√©gative." data-max-subscription="50"
                data-max-subscription-message="L‚Äôabonnement Starter est limit√© √† 50 pochettes."></div>
            </div>
            <div class="mb-3 d-none" data-rental-fields>
              <div class="row g-3">
                <div class="col-md-6">
                  <label for="startDate" class="form-label">Date de d√©but :</label>
                  <input type="date" name="date_debut" id="startDate" class="form-control" data-start-date />
                </div>
                <div class="col-md-6">
                  <label for="endDate" class="form-label">Date de fin :</label>
                  <input type="date" name="date_fin" id="endDate" class="form-control" data-end-date />
                </div>
              </div>
              <div id="dateError" class="text-danger mt-2" style="display: none;" data-date-error
                data-missing="Merci d‚Äôindiquer les dates de d√©but et de fin de la location."
                data-range="La date de fin doit √™tre post√©rieure ou √©gale √† la date de d√©but."></div>
            </div>
            <div class="mb-3 d-none" data-staff-fields>
              <label for="staffQuantity" class="form-label">Personnel suppl√©mentaire (optionnel) :</label>
              <input type="number" class="form-control" name="personnel_supplementaire" id="staffQuantity" min="0" value="0"
                data-staff-quantity>
              <small class="text-muted">100 ‚Ç¨ / jour / personne pour 6 h.</small>
            </div>
            <div class="alert alert-info d-none" data-summary data-days-label="Dur√©e" data-total-label="Total estim√©"
              data-day-singular="jour" data-day-plural="jours" aria-live="polite">
              <p class="mb-1"><strong><span data-summary-days-label>Dur√©e</span> : <span
                      data-summary-days-count>‚Äî</span></strong></p>
              <p class="mb-0"><span data-summary-total-label>Total estim√©</span> : <span
                  data-summary-total-amount>‚Äî</span></p>
            </div>
            <div class="mb-3">
              <label for="nom" class="form-label" data-i18n="label_fullname">Nom complet :</label>
              <input type="text" name="nom" id="nom" class="form-control" required />
            </div>
            <div class="mb-3">
              <label for="email" class="form-label" data-i18n="label_email">Email :</label> <input type="email"
                name="email" id="email" class="form-control" required />
            </div>
            <div class="mb-3">
              <label for="adresse" class="form-label" data-i18n="label_address">Adresse de facturation :</label>
              <textarea name="adresse" id="adresse" class="form-control" required></textarea>
            </div>
            <div class="price-box text-center fw-bold fs-5 my-3" id="priceDisplay" aria-live="polite"
              data-price-display data-template="Total estim√© : {price}">
            </div>

            <div class="paypal-message-wrapper text-center mt-3">
              <div data-paypal-message data-pp-style-layout="text" data-pp-style-logo-type="inline"
                data-pp-style-text-color="black"></div>
              <small class="d-block mt-2 text-muted" data-i18n="payment_card_note">
                R√©glez aussi par carte bancaire via PayPal, m√™me sans compte.
              </small>
            </div>

            <div class="text-center mt-4">
              <div class="d-inline-block" data-paypal-container
                data-client-id="AYfFtx4nhnM_IaoUdUfCmRX9MqWxjHY2QKx3QcficjUNDSCk3SsZCzGRI2yzpKR4bwmQvkWveZbf9Jxq"
                data-currency="EUR" data-components="buttons,messages"
                data-description="SecurityNoPhone ‚Äì Commande" data-auto-submit="true"
                data-message-invalid="Compl√©tez le formulaire pour activer le paiement PayPal."
                data-message-ready="Montant estim√© : {amount}. Cliquez sur PayPal pour finaliser votre commande."
                data-message-processing="Paiement en cours..." data-message-success="Paiement PayPal confirm√©. Votre commande est envoy√©e."
                data-message-error="Le paiement via PayPal a √©chou√©. Veuillez r√©essayer."
                data-message-cancelled="Paiement PayPal annul√©."
                data-message-unavailable="PayPal est indisponible pour le moment. Merci de r√©essayer plus tard."
                data-message-ineligible="PayPal n'est pas disponible pour cette commande.">
              </div>
            </div>

            <div id="formSubmissionFeedback" class="mt-3"></div>

            <div class="text-center mt-4">
              <button type="submit" class="btn btn-primary" data-i18n="btn_submit_order" disabled>Valider la commande</button>
            </div>
          </form>
        </div>
        <div class="col-md-6 d-flex flex-column justify-content-center align-items-center px-3">
          <div class="bg-light rounded-4 shadow-sm p-4 w-100">
            <p class="text-center fw-semibold fs-5 mb-3 text-dark">
              üí≥ Paiement via <strong>PayPal (si √©ligible)</strong><br>
              <small class="fst-italic text-muted">(propos√© automatiquement selon votre compte)</small>
            </p>
            <p class="text-center text-secondary" data-i18n="payment_description">
              Prot√©gez la confidentialit√© de vos √©v√©nements et profitez du paiement en 4x via PayPal si vous √™tes √©ligible.<br>
              <span class="text-dark">Vous pouvez aussi r√©gler par carte bancaire via PayPal, sans cr√©er de compte.</span>
            </p>
            <hr class="my-3 bg-secondary" style="height:1px; width:80%;" />
            <p class="text-center text-dark" data-i18n="payment_flexibility_title">
              <strong>Nos offres flexibles :</strong><br>
              <span data-i18n="payment_flexibility_point_1">‚Ä¢ Location cl√©-en-main (avec ou sans personnel)</span><br>
              <span data-i18n="payment_flexibility_point_2">‚Ä¢ Pochettes personnalis√©es pour vos √©v√©nements</span><br>
              <span data-i18n="payment_flexibility_point_3">‚Ä¢ Abonnement Starter pour une solution durable</span>
            </p>
            <p class="fw-bold mt-4 text-center" style="color: #198754;" data-i18n="payment_footer">
              Commandez aujourd‚Äôhui, payez sereinement,<br>et garantissez la r√©ussite de votre √©v√©nement.
            </p>
            <small class="d-block text-center mt-3 text-muted" data-i18n="payment_tip">
              üí° Astuce : PayPal affiche automatiquement vos options (4x, carte) au moment du paiement.
            </small>
          </div>
        </div>
      </div>
    </div>
  </main>

  <div id="footer-container"></div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>AOS.init();</script>

  <script src="js/translations.js"></script>

  <script>
    localStorage.setItem("lang", "fr"); // change en "de", "en", "ar" selon la page
  </script>

  <script src="js/main.js"></script>

  <script src="js/order-calculator.js"></script>
  <script src="js/paypal-buttons.js"></script>
</body>

</html>