<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SecurityNoPhone ‚Äì Commande</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="flags/flags.css">
  <link rel="stylesheet" href="style_optimized.css">
</head>

<body>

  <div id="navbar-container"></div>


  <main class="container my-5">
    <div class="border rounded-4 shadow-sm p-4 bg-white mt-5">
      <h1 class="text-center mb-5">Passer une commande</h1>
      <div class="row">
        <div class="col-md-6">
          <form action="https://formspree.io/f/xqaqogdv" method="POST" id="orderForm">
            <input type="text" name="_gotcha" style="display:none">
            <div class="mb-3"><label class="form-label">Type d‚Äôoffre :</label>
              <select class="form-select" name="offre" id="offerType" required>
                <option value="">-- Choisir une offre --</option>
                <option value="location_sans">Location sans personnel</option>
                <option value="location_avec">Location avec personnel</option>
                <option value="achat">Pochettes personnalis√©es</option>
                <option value="abonnement">Abonnement Starter</option>
              </select>
            </div>
            <div class="mb-3"><label for="quantity" class="form-label">Quantit√© de pochettes :</label>
              <input type="number" class="form-control" name="quantite" id="quantity" max="250" min="1" value="100"
                required />
            </div>
            <div class="mb-3"><label for="date" class="form-label">Date de l'√©v√©nement :</label>
              <input type="date" name="date" id="date" class="form-control" required />
            </div>
            <div class="mb-3"><label for="nom" class="form-label">Nom complet :</label>
              <input type="text" name="nom" id="nom" class="form-control" required />
            </div>
            <div class="mb-3"><label for="email" class="form-label">Email :</label>
              <input type="email" name="email" id="email" class="form-control" required />
            </div>
            <div class="mb-3"><label for="adresse" class="form-label">Adresse de facturation :</label>
              <textarea name="adresse" id="adresse" class="form-control" required></textarea>
            </div>
            <div class="price-box text-center" id="priceDisplay">Total : 0 ‚Ç¨</div>
            <div class="text-center mt-4"><button type="submit" class="btn btn-primary">Valider la commande</button>
            </div>
          </form>
        </div>
        <div class="col-md-6 d-flex flex-column justify-content-center align-items-center px-3">
          <div class="bg-light rounded-4 shadow-sm p-4 w-100">
            <p class="text-center fw-semibold fs-5 mb-3 text-dark">üí≥ Paiement en <strong>4 fois sans frais</strong>
              avec PayPal<br>
              <small class="fst-italic text-muted">(sous r√©serve d‚Äô√©ligibilit√©)</small>
            </p>
            <p class="text-center text-secondary">
              Prot√©gez la confidentialit√© de vos √©v√©nements gr√¢ce √† notre option de paiement en plusieurs fois.<br>
              <span class="text-dark">L‚Äôoption s‚Äôaffiche automatiquement lors du paiement via PayPal si vous √™tes
                √©ligible.</span>
            </p>
            <hr class="my-3 bg-secondary" style="height:1px; width:80%;" />
            <p class="text-center text-dark">
              <strong>Nos offres flexibles :</strong><br>
              ‚Ä¢ Location cl√©-en-main (avec ou sans personnel)<br>
              ‚Ä¢ Pochettes personnalis√©es pour vos √©v√©nements<br>
              ‚Ä¢ Abonnement Starter pour une solution durable
            </p>
            <p class="fw-bold mt-4 text-center" style="color: #198754;">
              Commandez aujourd‚Äôhui, payez sereinement,<br>et garantissez la r√©ussite de votre √©v√©nement.
            </p>
            <small class="d-block text-center mt-3 text-muted">
              üí° Astuce : le paiement en plusieurs fois vous sera propos√© automatiquement √† l‚Äô√©tape de validation.
            </small>
          </div>
        </div>
      </div>
    </div>
  </main>

 <!-- Footer inclus dynamiquement -->
<div id="footer-container"></div>

<!-- Scripts principaux -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>AOS.init();</script>

<!-- Traductions et logique principale -->
<script src="js/translations.js"></script>

<!-- Forcer la langue souhait√©e (modifie selon la page) -->
<script>
  localStorage.setItem("lang", "fr"); // change en "de", "en", "ar" selon la page
</script>

<script src="js/main.js"></script>

<!-- Mise √† jour dynamique du prix (si formulaire pr√©sent sur la page) -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const offerType = document.getElementById('offerType');
    const quantity = document.getElementById('quantity');
    const priceDisplay = document.getElementById('priceDisplay');

    if (offerType && quantity && priceDisplay) {
      function updatePrice() {
        const type = offerType.value;
        const qty = parseInt(quantity.value) || 0;
        let total = 0;

        if (type === 'location_sans') total = 290;
        else if (type === 'location_avec') total = 390;
        else if (type === 'achat') total = qty >= 50 ? qty * 3.5 : 0;
        else if (type === 'abonnement') total = Math.ceil(qty / 50) * 19;

        priceDisplay.innerText = `Total : ${total.toFixed(2)} ‚Ç¨`;
      }

      offerType.addEventListener('change', updatePrice);
      quantity.addEventListener('input', updatePrice);
      updatePrice();
    }
  });
</script>